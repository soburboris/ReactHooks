import React, { useEffect } from 'react'

import useFetch from 'hooks/useFetch'
import { Link } from 'react-router-dom'

const PopularTags = () => {
    const [{response, isLoading, error}, doFetch] = useFetch('/tags')
    
    useEffect(() => {
        doFetch()
    },[doFetch])
    if(isLoading) {
        return <div>Loading...</div>      
    }
    if(error) {
        return <div>Sometimes errors happend</div>      
    }   

    return (
        <div className='sidebar'>
            <p>popular Tags</p>
            <div className='tag-list' >
                {response && response.tags.map((tags => 
                    <Link to={`/tags/${tags}`} className='tag-default tag-pill' key={tags}>{tags}</Link>
                    ))}
            </div>
        </div>
        
    )
}

export default PopularTags